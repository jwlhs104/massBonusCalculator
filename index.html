<!DOCTYPE html>
<html>

<head>
	<title>
      Mass Bonus Calculator
	</title>
	
	<script src=
"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js">
	</script>
</head>
		
<body style = "text-align:center;">
	
	<h1 style = "color:green;" >
    Mass Bonus Calculator
	</h1>

	Mass:<input id="x" type="number" min="0" step="1" onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"><br>
	<button id="GFG_Button">Calculate</button>
  <h2 id="result"></h2>
  <h2 id="ratio"></h2>
  <h1 id="optimal">最佳數量</h1>
  <div id="bestOptions"></div>
			
	<script>
		$("#x").keypress(function(event) {
			if (event.keyCode === 13) {
				$("#GFG_Button").click();
			}
		});

		$("#GFG_Button").click(function() {
      var x = parseInt($("#x").val())
      var y = Math.floor( x * Math.log10(x) / 10 )
      $("#result").text(`Bonus: ${y}`)
      $("#ratio").text(`Bonus ratio: ${y/x*100}%`)
		});
    var current_y=0;
    for (var i=1; i<=100; i++){
      y = Math.floor( i * Math.log10(i) / 10 )
      if (y>current_y) {
            $("#bestOptions").append(`<h4>Mass: ${i}, Bonus: ${y}, Bonus Ratio: ${y*100/i}%</h4>`)
        current_y = y;
      }
    }
	</script>
</body>

</html>
